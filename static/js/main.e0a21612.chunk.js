(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Router",{enumerable:!0,get:function(){return o.BrowserRouter}}),Object.defineProperty(t,"Link",{enumerable:!0,get:function(){return o.Link}}),Object.defineProperty(t,"Route",{enumerable:!0,get:function(){return o.Route}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return o.Switch}}),Object.defineProperty(t,"withRouter",{enumerable:!0,get:function(){return o.withRouter}});var o=n(344)},147:function(e,t,n){e.exports=n(148)},148:function(e,t,n){var o=n(4),a=n(0),l=a(n(1)),r=a(n(31));n(152);var i=a(n(154)),u=o(n(374));r.default.render(l.default.createElement(i.default,null),document.getElementById("root")),u.unregister()},152:function(e,t,n){},154:function(e,t,n){(function(e){var o=n(4),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(20)),r=a(n(21)),i=a(n(22)),u=a(n(23)),c=a(n(24)),f=o(n(1)),d=n(25),s=a(n(311)),h=a(n(321)),p=a(n(322)),g=n(143),v=function(e){function t(){return(0,l.default)(this,t),(0,i.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return f.default.createElement(g.Router,null,f.default.createElement(g.Switch,null,f.default.createElement(g.Route,{exact:!0,path:"/",component:p.default}),f.default.createElement(g.Route,{exact:!0,path:"/voting",component:h.default}),f.default.createElement(g.Route,{exact:!0,path:"/payout",component:s.default})))}}]),t}(f.Component),y=function(){return function(){return v}};"web"===d.Platform.OS&&(y=n(372).hot);var m=y(e)(v);t.default=m}).call(this,n(155)(e))},311:function(e,t,n){var o=n(4),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(137)),r=a(n(314)),i=a(n(315)),u=a(n(20)),c=a(n(21)),f=a(n(22)),d=a(n(23)),s=a(n(24)),h=a(n(42)),p=a(n(76)),g=o(n(1)),v=n(25),y=a(n(319)),m=function(e){function t(){var e,n;(0,u.default)(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return n=(0,f.default)(this,(e=(0,d.default)(t)).call.apply(e,[this].concat(a))),(0,p.default)((0,h.default)((0,h.default)(n)),"state",{modalVisible:!1,sign_in:!1,_that:(0,h.default)((0,h.default)(n))}),(0,p.default)((0,h.default)((0,h.default)(n)),"onPressButton1",function(){!1===n.state.sign_in?n.getLoginURL():n.revokeToken()}),(0,p.default)((0,h.default)((0,h.default)(n)),"getLoginURL",function(){var e=y.default.getLoginURL();window.location.href=e}),(0,p.default)((0,h.default)((0,h.default)(n)),"revokeToken",function(){y.default.revokeToken(function(e,t){console.log(t),v.AsyncStorage.removeItem("token")}),n.setState({sign_in:!1})}),(0,p.default)((0,h.default)((0,h.default)(n)),"checkToken",function(e){if(e.indexOf("?access_token")>-1)try{var t={},n=e.split("?")[1];(n=n.split("&")).forEach(function(e){var n=e.split("="),o=(0,i.default)(n,2),a=o[0],l=o[1];t[a]=l}),console.log("tokens:",t),v.AsyncStorage.setItem("token",t.access_token)}catch(o){console.log(o)}}),(0,p.default)((0,h.default)((0,h.default)(n)),"getAsyncToken",(0,r.default)(l.default.mark(function e(){var t;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.AsyncStorage.getItem("token");case 3:return t=e.sent,e.next=6,t;case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}},e,null,[[0,9]])}))),n}return(0,s.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){return g.default.createElement(v.View,{style:{flex:1}},g.default.createElement(v.View,{style:{flex:1,flexDirection:"row",width:150,paddingLeft:10,paddingTop:20}},g.default.createElement(v.View,{style:{flex:1}},g.default.createElement(v.Button,{style:{},title:!1===this.state.sign_in?"Sign in with SteemConnect":"Sign out",onPress:this.onPressButton1}))),g.default.createElement(v.Text,{style:{color:"black",fontWeight:"bold",fontSize:20,paddingLeft:10,paddingTop:20,paddingBottom:3}},"Payout"))}},{key:"componentDidMount",value:function(){var e=this,t=window.location.href;console.log("xxx",t),this.checkToken(t),this.getAsyncToken().then(function(t){null===t?e.setState({sign_in:!1}):(y.default.setAccessToken(t),y.default.me().then(function(t){var n=t.account,o=JSON.parse(n.json_metadata).profile;console.log("profile",o),e.setState({sign_in:!0})}).catch(function(e){}))})}}]),t}(g.Component);t.default=m},319:function(e,t,n){var o=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n(320)).default.Initialize({app:"wp-steem-share",callbackURL:"http://localhost:3000/payout",accessToken:"access_token",scope:["vote","comment","custom_json"]});t.default=a},321:function(e,t,n){var o=n(4),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(20)),r=a(n(21)),i=a(n(22)),u=a(n(23)),c=a(n(24)),f=a(n(42)),d=a(n(76)),s=o(n(1)),h=n(25),p=function(e){function t(){var e,n;(0,l.default)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return n=(0,i.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(a))),(0,d.default)((0,f.default)((0,f.default)(n)),"state",{}),n}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return s.default.createElement(h.View,{style:{flex:1}},s.default.createElement(h.Text,{style:{color:"black",fontWeight:"bold",fontSize:20,paddingLeft:10,paddingTop:20,paddingBottom:3}},"Voting"))}},{key:"componentDidMount",value:function(){}}]),t}(s.Component);t.default=p},322:function(e,t,n){var o=n(4),a=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(20)),r=a(n(21)),i=a(n(22)),u=a(n(23)),c=a(n(24)),f=a(n(42)),d=a(n(76)),s=o(n(1)),h=n(25),p=a(n(323)),g=n(143),v=n(367),y=function(e){function t(){var e,n;(0,l.default)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return n=(0,i.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(a))),(0,d.default)((0,f.default)((0,f.default)(n)),"state",{holders:[],symbol:"",maintainer:["virus707","goldenticket","jjm13"],sum_balance:"",tableHead:["Account","Balance","Rate"],tableData:[]}),(0,d.default)((0,f.default)((0,f.default)(n)),"onPressButton1",function(){n.props.history.push("/voting")}),(0,d.default)((0,f.default)((0,f.default)(n)),"onPressButton2",function(){n.props.history.push("/payout")}),(0,d.default)((0,f.default)((0,f.default)(n)),"sscLoad",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"JJM",t=new p.default("https://api.steem-engine.com/rpc/");t.stream(function(e,t){}),t.find("market","metrics",{symbol:e},1e3,0,[],function(e,t){n.setState({lastPrice:t[0].lastPrice,volume:t[0].volume,highestBid:t[0].highestBid,lowestAsk:t[0].lowestAsk})}),t.find("tokens","balances",{symbol:e},1e3,0,[],function(t,o){var a=[],l=[],r=[];o.sort(function(e,t){return t.balance-e.balance});var i=!0,u=!1,c=void 0;try{for(var f,d=o["function"===typeof Symbol&&"function"===typeof Symbol&&"function"===typeof Symbol?Symbol.iterator:"@@iterator"]();!(i=(f=d.next()).done);i=!0){var s=f.value;a.push(s)}}catch(t){u=!0,c=t}finally{try{i||null==d.return||d.return()}finally{if(u)throw c}}console.log(a);for(var h=0,p=a,g=0;g<p.length;g++){h+=1*p[g].balance}var v=!0,y=!1,m=void 0;try{for(var b,w=n.state.maintainer["function"===typeof Symbol&&"function"===typeof Symbol&&"function"===typeof Symbol?Symbol.iterator:"@@iterator"]();!(v=(b=w.next()).done);v=!0){var k=b.value,S=n.findAccount(a,k);void 0!==S&&(h-=S.balance)}}catch(t){y=!0,m=t}finally{try{v||null==w.return||w.return()}finally{if(y)throw m}}console.log("sum balance : "+h),n.setState({sum_balance:h});for(var x=a,E=0;E<x.length;E++){var _=x[E];_.rate=_.balance/h;var P=!0,T=!1,B=void 0;try{for(var L,j=n.state.maintainer["function"===typeof Symbol&&"function"===typeof Symbol&&"function"===typeof Symbol?Symbol.iterator:"@@iterator"]();!(P=(L=j.next()).done);P=!0){var R=L.value;_.account===R&&(_.rate=0)}}catch(t){T=!0,B=t}finally{try{P||null==j.return||j.return()}finally{if(T)throw B}}l.push({account:_.account,balance:(1*_.balance).toFixed(2)+" "+e,rate:(1*_.rate).toFixed(3)}),r.push([_.account,(1*_.balance).toFixed(2)+" "+e,(1*_.rate).toFixed(3)])}n.setState({holders:a,holders_data:l,sum_balance:h,tableData:r})})}),(0,d.default)((0,f.default)((0,f.default)(n)),"findAccount",function(e,t){return e.find(function(e){return e.account===t})}),n}return(0,c.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return s.default.createElement(h.View,{style:{flex:1}},s.default.createElement(h.View,{style:{flex:1,flexDirection:"row",width:220,paddingLeft:10,paddingTop:20}},s.default.createElement(h.View,{style:{flex:1,paddingRight:10}},s.default.createElement(h.Button,{style:{},title:"Voting list",onPress:this.onPressButton1})),s.default.createElement(h.View,{style:{flex:1}},s.default.createElement(h.Button,{style:{},title:"Payout",onPress:this.onPressButton2}))),s.default.createElement(h.Text,{style:{color:"black",fontWeight:"bold",fontSize:20,paddingLeft:10,paddingTop:20,paddingBottom:3}},"Token Info"),s.default.createElement(h.Text,{style:{color:"black",fontSize:15,paddingLeft:10,paddingBottom:5}},"Last: ",this.state.lastPrice," STEEM, 24h Vol: ",this.state.volume," STEEM, Bid: ",this.state.highestBid," STEEM, Ask: ",this.state.lowestAsk," STEEM"),s.default.createElement(h.Text,{style:{color:"black",fontWeight:"bold",paddingLeft:10,fontSize:16,paddingBottom:3}},"\ucd1d \ud640\ub354 \uc218 : ",this.state.holders.length),s.default.createElement(h.Text,{style:{color:"black",fontWeight:"bold",paddingLeft:10,fontSize:16,paddingBottom:20}},"\uc720\ud1b5\ubb3c\ub7c9 : ",(1*this.state.sum_balance).toFixed(2)," JJM"),s.default.createElement(h.View,{style:{flex:1,paddingLeft:10}},s.default.createElement(v.Table,{style:{},borderStyle:{borderWidth:2,borderColor:"#c8e1ff"}},s.default.createElement(v.Row,{data:this.state.tableHead,style:m.head,textStyle:{margin:6,fontWeight:"bold",fontSize:18}}),s.default.createElement(v.Rows,{data:this.state.tableData,textStyle:m.text}))))}},{key:"componentDidMount",value:function(){this.setState({symbol:"JJM"}),this.sscLoad("JJM")}}]),t}(s.Component),m=h.StyleSheet.create({container:{flex:1,padding:16,paddingTop:30,backgroundColor:"#fff"},head:{height:40,backgroundColor:"#f1f8ff"},text:{margin:6}}),b=(0,g.withRouter)(y);t.default=b},374:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.register=function(e){if("serviceWorker"in navigator){var t=new URL("/jjm-list",window.location.href);if(t.origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/jjm-list","/service-worker.js");n?(!function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):o(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):o(t,e)})}},t.unregister=function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})};var n=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}}},[[147,2,1]]]);
//# sourceMappingURL=main.e0a21612.chunk.js.map